/* Base */
:root {
  --bg: #0b0f14;
  --panel: #121821;
  --text: #f4f6fb;
  --muted: #9aa3af;
  --border: #2a3442;
  --accent: #5da0ff;
}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;}
.wrap{display:grid;grid-template-columns:1fr;gap:16px;max-width:1200px;margin:24px auto;padding:0 16px;}

.topbar{padding:12px 16px;border-bottom:1px solid var(--border);background:linear-gradient(180deg,#0b0f14,#0b0f1400);}
.topbar h1{margin:0;font-size:18px;}

.panel{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px;}
.controls .field{margin-bottom:12px;}
.controls .group-label{font-weight:600;margin-bottom:6px;}
.controls label{display:inline-block;margin:4px 8px 4px 0;}
.buttons .btn{margin-right:8px;}

.table-wrap{background:var(--panel);border:1px solid var(--border);border-radius:12px;overflow:hidden;}
table{width:100%;border-collapse:collapse;}
thead th{background:#0f1420;position:sticky;top:0;border-bottom:1px solid var(--border);text-align:left;padding:8px 10px;cursor:pointer;}
tbody td{border-top:1px solid var(--border);padding:8px 10px;vertical-align:top;}
.muted{color:var(--muted);}

/* Loader overlay */
#loader-overlay{position:fixed;inset:0;background:rgba(11,15,20,.55);backdrop-filter:blur(2px);display:none;align-items:center;justify-content:center;z-index:9999;}
#loader-overlay.show{display:flex;}
#loader-overlay .loader-card{min-width:320px;max-width:520px;background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:16px 18px;box-shadow:0 10px 28px rgba(0,0,0,.4);}
#loader-overlay .row{display:flex;align-items:center;gap:10px;}
#loader-overlay .spinner{width:20px;height:20px;border:3px solid rgba(255,255,255,.25);border-top-color:var(--accent);border-left-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite;}
#loader-overlay .text{font-weight:600}
#loader-overlay .small{color:var(--muted);font-size:12px;margin-top:2px;}
#loader-overlay .progress{margin-top:10px;height:8px;background:rgba(255,255,255,.1);border-radius:999px;overflow:hidden;}
#loader-overlay .bar{height:100%;width:0%;background:var(--accent);transition:width .25s ease;}
@keyframes spin{to{transform:rotate(360deg)}}

/* Filter chips */
.filter-row{margin:6px 0 10px;}
.filter-row .title{font-weight:600;margin-right:8px;opacity:.9;}
.filter-chips{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0 12px;}
.filter-chips .chip{border-radius:999px;padding:6px 12px;font-size:13px;background:rgba(127,127,127,.16);border:1px solid rgba(127,127,127,.22);cursor:pointer;user-select:none;}
.filter-chips .chip[aria-pressed="true"]{background:rgba(93,160,255,.2);border-color:rgba(93,160,255,.45);}
.visually-hidden{position:absolute !important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;}
.badge{display:inline-block;border:1px solid var(--border);border-radius:999px;padding:2px 8px;margin:0 4px 4px 0;font-size:12px;}
.stat{cursor:pointer;}
.stat.active{outline:1px dashed var(--accent);border-radius:6px;padding:1px 4px;}

@media (max-width: 980px){
  .wrap{grid-template-columns:1fr;}
}

/* Stats pills */
td.stats .stat{
  display:inline-block;
  margin:2px 6px 2px 0;
  padding:2px 8px;
  border:1px solid var(--border);
  border-radius:999px;
  background:rgba(127,127,127,.12);
  white-space:nowrap;
}
td.stats .stat.active{
  outline:1px dashed var(--accent);
  background:rgba(93,160,255,.2);
  border-color:rgba(93,160,255,.45);
}


/* Controls spacing when stacked */
#filters{margin-bottom:16px;}
